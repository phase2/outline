import { html } from 'lit';
import { Meta, Canvas, Story, Preview } from '@storybook/addon-docs';

<Meta
  title="Documentation/Guides/Tooling & Commands/Unit Testing"
  parameters={{
    viewMode: 'docs',
    previewTabs: {
      canvas: {
        hidden: true,
      },
    },
  }}
/>

# Unit Testing

<outline-alert statusType="info" size="large" class="mb-6">
  <span slot="outline-alert--header">Documentation Status</span>
  The documentation on this page is in need of additional updates, corrections or information. <span class="font-semibold italic">Expect frequent updates and/or changes.</span>
</outline-alert>

## Introduction 

Testing is handled by [Web Test Runner](https://modern-web.dev/guides/test-runner/getting-started/) and uses [Playwright](https://playwright.dev/) to test modern browsers locally.

## Running tests

Run tests on Chromium, Firefox, and Webkit

```bash
yarn run test
```

You can also append one or more browsers to test on specifically i.e.
`BROWSERS=firefox,chromium yarn run test`

### Interactive mode

You can run the TypeScript compiler in one terminal and the interactive Web Test Runner in another to automatically re-run your tests and open tests in a browser for debugging.

```bash
yarn tsc --watch

yarn wtr --watch
```

### BrowserStack mode

Optionally you can run tests using [BrowserStack](https://www.browserstack.com/) by running
`yarn run test:browserstack`
Note: You must enter your username and access key in the .env file to use BrowserStack testing

## Developing tests

Test files should be located in a test folder in your component directory with a `.test.ts` extension i.e. `src/components/base/outline-example/test/outline-example.test.ts`

More info on writing tests for web components can be found at [Open-WC.org](https://open-wc.org/docs/testing/helpers/)
